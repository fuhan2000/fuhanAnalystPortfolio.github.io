<!DOCTYPE HTML>
<!--
	Massively by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Inbound and Outbound Cash Overview</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<a href="index.html" class=""></a>
					</header>

				<!-- Nav -->
					<nav id="nav">
						<ul class="links">
							<li><a href="index.html">Portfolio Main Page</a></li>

						</ul>
						<ul class="icons">
							<li><a href="https://www.linkedin.com/in/fuhhanchang/" class="icon brands alt fa-linkedin"><span class="label">linkedin</span></a></li>
							<li><a href="https://github.com/fuhan2000" class="icon brands alt fa-github"><span class="label">GitHub</span></a></li>
						</ul>
					</nav>

				<!-- Main -->
					<div id="main">

						<!-- Post -->
							<section class="post">
								<header class="major">
									
									<h1>Using Matplotlib <br />
										</h1>
									<p>Recreating Inbound and Outbound Cash Overview in Matplotlib. This is a waterfall chart. <br/>
										The original graph was done in Web Intelligence.</p>
								</header>

								<div class="image main"><img src="images/inbound_and_outbound/inbound_outbound_webi.png" alt="" /></div>
								<p>Here I will recreate the above graph.<br/> </p>

								
								<p><br/></p>
								<h2>Importing Libraries</h2>
								<p>We need to import matplotlib.pyplot, numpy and pandas. You may need to install waterfallcharts</p>
								<blockquote>import numpy as np<br/>
									import pandas as pd<br/>
									import matplotlib.pyplot as plt<br/>
									%matplotlib inline<br/>
									<p><br/></p>
									# Install<br/>
									!pip install waterfallcharts<br/>
									import waterfall_chart<br/>
							</blockquote>

								<h2>Import data into a data frame</h2>
								<blockquote>in_and_out_cash_df = pd.read_csv(r'E:\project\matplotlib_project\InBound_and_Outbound_cash_overview.csv')<br/>
									in_and_out_cash_df
								</blockquote>
								<figure style="max-width:2388pxpx" class="w-richtext-align-fullwidth w-richtext-figure-type-image"><div><img src="images/inbound_and_outbound/In38.png" alt=""></div></figure>
									
								<h2>Converting to Numpy array</h2>
								<blockquote>np_arr = in_and_out_cash_df.to_numpy()<br/>
									x_1 = np_arr[:,0]<br/>
									y_1 = np_arr[:,1]</blockquote><br/>
								</blockquote>

								<h2>Plotting the Graph</h2>
								<blockquote>
									plt.rcParams.update({'figure.figsize':(10,6), 'figure.dpi':100})<br/>
									# formatting : no decimal places<br/>
									# net_label = net by default<br/>
									#<br/>
									waterfall_chart.plot(x_1, y_1, formatting='{:,.0f}');<br/>
									<p><br/></p>
									# set title<br/>
									plt.title('Inbound and Outbound Cash Overview', fontsize=11, loc='left')<br/>
									<p><br/></p>
									# ha: set to use right horizontal alignment for readability<br/>
									plt.xticks(rotation = 25, ha='right', fontsize = 8)<br/>
									<p><br/></p>
									# set vertical axis limit<br/>
									# at -20,000,000 &<br/>
									# 140,000,000<br/>
									plt.ylim([-20000000, 140000000])<br/>
									</blockquote>
								<h2>Graph Output</h2>
								<figure style="max-width:2388pxpx" class="w-richtext-align-fullwidth w-richtext-figure-type-image"><div><img src="images/inbound_and_outbound/inbound_pyplot.png" alt=""></div></figure>
								<p><br/></p>
								<h2>comments</h2>
								<p>Waterfallcharts is a very useful package despite a shortcoming that I will mentioned later. Using Mathplotlib, the vertical limits are -20,000,000 and 140,000,000. 
									'Withdrawal in cash' of 51,400 is too small to be seen in this graph. On the original WEBI graph, a red line can be seen. The final column has 'net' by default. 
									A shortcoming that can be observed is that values of 'Remittance to another bank', 'Withdrawal in cash', and 'net' columns cannot be seen presumably because it may 
									'clashed' with horizontal axis.
								</p>

								<h2>Amendment to code</h2>
								<blockquote>plt.ylim([-30000000, 140000000])</blockquote>
								<p>If the vertical limits are -30,000,000 to 140,000,000, then we can see the missing figures. </p>
								<figure style="max-width:2388pxpx" class="w-richtext-align-fullwidth w-richtext-figure-type-image"><div><img src="images/inbound_and_outbound/inbound_final.png" alt=""></div></figure>
								<p><br/></p>
								<h2>Conclusion</h2>								
								<p>Waterfallcharts allows you to create amazing graphs with only a few lines of comprehensible code.</p>


							</section>

					</div>

				<!-- Footer -->
					<footer id="footer">
						<nav id="nav">
							<ul class="links">
								<li><a href="index.html">Portfolio Main Page</a></li>
	
							</ul>
						</nav>

						<section class="split contact">




						</section>
					</footer>

				<!-- Copyright -->
					<div id="copyright">
						<ul><li>&copy; fuhan</li></ul>
					</div>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>