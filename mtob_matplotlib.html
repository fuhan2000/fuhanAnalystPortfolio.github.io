<!DOCTYPE HTML>
<!--
	Massively by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Monthly Trend of Balance</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<a href="index.html" class=""></a>
					</header>

				<!-- Nav -->
					<nav id="nav">
						<ul class="links">
							<li><a href="index.html">Portfolio Main Page</a></li>

						</ul>
						<ul class="icons">
							<li><a href="https://www.linkedin.com/in/fuhhanchang/" class="icon brands alt fa-linkedin"><span class="label">linkedin</span></a></li>
							<li><a href="https://github.com/fuhan2000" class="icon brands alt fa-github"><span class="label">GitHub</span></a></li>
						</ul>
					</nav>

				<!-- Main -->
					<div id="main">

						<!-- Post -->
							<section class="post">
								<header class="major">
									
									<h1>Using Matplotlib <br />
										</h1>
									<p>Recreating Monthly Trend of Balance in Matplotlib. The original graph was done in Web Intelligence.</p>
								</header>

								<div class="image main"><img src="images/matplotlib_proj/matplotlib_cover.png" alt="" /></div>
								<p>Here I will recreate the following:<br/> </p>

								<figure style="max-width:2388pxpx" class="w-richtext-align-fullwidth w-richtext-figure-type-image"><div><img src="images/matplotlib_proj/mtob_webi.png" alt=""></div></figure>
								<p><br/></p>
								<h2>Importing Libraries</h2>
								<p>We need to import matplotlib.pyplot, numpy and pandas.</p>
								<blockquote># Import Matplotlib and allow plots to show in the Jupyter Notebook<br/>
									import matplotlib.pyplot as plt<br/>
									%matplotlib inline<br/>
									<p><br/></p>
									# need this to plot at multiples of 10000000 on y-axis<br/>
									from matplotlib.ticker import (MultipleLocator, AutoMinorLocator)<br/>
									<p><br/></p>
									# Import NumPy and Pandas<br/>
									import numpy as np<br/>
									import pandas as pd<br/>
									<p><br/></p>
									# Auto reloads notebook when changes are made<br/>
									%reload_ext autoreload<br/>
									%autoreload 2<br/>
								</blockquote>

								<h2>Import data into a data frame</h2>
								<blockquote>mtob_df = pd.read_csv(r'E:\project\matplotlib_project\monthly_trend_of_balance.csv')<br/>
									mtob_df</blockquote>
								<figure style="max-width:2388pxpx" class="w-richtext-align-fullwidth w-richtext-figure-type-image"><div><img src="images/matplotlib_proj/mtob_df.png" alt=""></div></figure>
								<p><br/></p>
								<h2>Converting to Numpy array</h2>
								<blockquote># Convert from Pandas to NumPy array<br/>
									np_arr = mtob_df.to_numpy()<br/>
									np_arr</blockquote>
								<figure style="max-width:2388pxpx" class="w-richtext-align-fullwidth w-richtext-figure-type-image"><div><img src="images/matplotlib_proj/mtob_array.png" alt=""></div></figure>
								<p><br/></p>
								<h2>Get ready x and y</h2>
								<blockquote>x_1 = np_arr[:,0]<br/>
									y_1 = np_arr[:,1]</blockquote>
								<p><br/></p>
								<h2>Plot the graph</h2>
								<blockquote># Define width & height in inches<br/>
									# Dots per inch<br/>
									#<br/>
									fig_1 = plt.figure(figsize=(6,4),dpi=100)<br/>
									# Adds axes with a left, bottom, width and height that ranges from 0 to 1<br/>
									# which is the percent of the canvas you want to use<br/>
									#<br/>
									axes_1 = fig_1.add_axes([0,0,1,1])<br/>
									<p><br/></p>
									# Set labels and title<br/>
									axes_1.set_xlabel('Month')<br/>
									axes_1.set_ylabel('Amount')<br/>
									axes_1.set_title('Monthly Trend of Balance')<br/>
									# plot lines in blue<br/>
									# select marker to match source<br/>
									#<br/>
									axes_1.plot(x_1,y_1, color = 'blue', marker='o', markersize = 4)<br/>
									<p><br/></p>
									# Add a grid, dashes(5pts 1 pt dashes separated by 2pt space)<br/>
									#<br/>
									axes_1.grid(True, axis = 'y', dashes=(5, 2, 1, 2))<br/>
									<p><br/></p>
									# Plot horizontal lines at each y from xmin to xmax.<br/>
									# xmin = -0.5<br/>
									# xmax = len(x_1)-0.5<br/>
									axes_1.hlines(0,-0.5,len(x_1)-0.5, color = 'grey', lw=0.5)<br/>
									<p><br/></p>
									# major ticks at multiples of 10000000<br/>
									# Label major ticks with '.0f' formatting><br/>
									#<br/>
									axes_1.yaxis.set_major_locator(MultipleLocator(10000000))<br/>
									axes_1.yaxis.set_major_formatter('{x:.0f}')<br/>
									<p><br/></p>
									# set the ylimits to match source<br/>
									#<br/>
									axes_1.set_ylim([-20000000, 40000000])<br/>
									<p><br/></p>
									# `ha` is just shorthand for horizontalalignment<br/>
									# xlabel looks better with ha set this way.<br/>
									plt.xticks(rotation = 25, ha='right')
								</blockquote>
								<h2>Graph Output</h2>
								<p><br/></p>
								<figure style="max-width:2388pxpx" class="w-richtext-align-fullwidth w-richtext-figure-type-image"><div><img src="images/matplotlib_proj/mtob_plt.png" alt=""></div></figure>
								<p><br/></p>
								<h2>Saving the graph</h2>
								<blockquote># save as png<br/>
									# <br/>
									fig_1.savefig(r'E:\project\matplotlib_project\saved_png\monthly_trend_of_balance.png')
								</blockquote>
								<h2>Comments</h2>
								<p>Notice the vertical axis is marked at multiples of 10,000,000 just like in Web Intelligence. The marker and markersize has been customized. At Amount = 0, notice the thin grey line.
									On the horizontal axis, notice the xlabels have been rotated by 25 degrees and we only have a grid pattern on vertical axis. I have set ha='right' in plt.xticks() for readability.
									The range of vertical axis is -20,000,000 to 40,000,000.
								</p>

								



								
								


							</section>

					</div>

				<!-- Footer -->
					<footer id="footer">
						<nav id="nav">
							<ul class="links">
								<li><a href="index.html">Portfolio Main Page</a></li>
	
							</ul>
						</nav>

						<section class="split contact">




						</section>
					</footer>

				<!-- Copyright -->
					<div id="copyright">
						<ul><li>&copy; fuhan</li></ul>
					</div>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>