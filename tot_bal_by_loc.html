<!DOCTYPE HTML>
<!--
	Massively by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Total Balance by location</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<a href="index.html" class=""></a>
					</header>

				<!-- Nav -->
					<nav id="nav">
						<ul class="links">
							<li><a href="index.html">Portfolio Main Page</a></li>

						</ul>
						<ul class="icons">
							<li><a href="https://www.linkedin.com/in/fuhhanchang/" class="icon brands alt fa-linkedin"><span class="label">linkedin</span></a></li>
							<li><a href="https://github.com/fuhan2000" class="icon brands alt fa-github"><span class="label">GitHub</span></a></li>
						</ul>
					</nav>

				<!-- Main -->
					<div id="main">

						<!-- Post -->
							<section class="post">
								<header class="major">
									
									<h1>horizontal bar chart<br />
										</h1>
									<p>Total balance by location</p>
								</header>

								<div class="image main"><img src="images/tot_bal_by_loc/tot_bal_by_loc.png" alt="" /></div>
								<p>Here I will create the above graph.<br/> </p>
								
								
								
								<h2>Original csv file</h2>
								<p>The original CSV file looks like this.</p>
								<figure style="max-width:2388pxpx" class="w-richtext-align-fullwidth w-richtext-figure-type-image"><div><img src="images/tot_bal_by_loc/orig_csv.png" alt=""></div></figure>
								<p>We have two colomns. 'Region' shows the areas where the bank operates. 'Amount' states how much the bank has in a particular region.</p>

								<h2>Import Libraries</h2>
								<blockquote># Import Libraries<br/>
									import matplotlib.pyplot as plt<br/>
									import numpy as np<br/>
									import pandas as pd<br/>
									# need this to plot at multiples of 2000000 on horizonatl axis<br/>
									from matplotlib.ticker import (MultipleLocator, AutoMinorLocator)<br/>
									</blockquote>

								<h2>Import data into a data frame</h2>
								<blockquote>tb_by_loc_df = pd.read_csv(r'E:\project\matplotlib_project\Total Balance by Location.csv')<br/>
									tb_by_loc_df</blockquote>
								<figure style="max-width:2388pxpx" class="w-richtext-align-fullwidth w-richtext-figure-type-image"><div><img src="images/tot_bal_by_loc/tot_df.png" alt=""></div></figure>
								<p><br/></p>	
								<h2>Arranging Amount in descending order</h2>
								<p>I plan to to plot in descending order.</p>
								<blockquote># arrange the data in descending order by 'Amount'<br/>
									tb_by_loc_df = tb_by_loc_df.sort_values(by=['Amount'], inplace = False, ascending = False)<br/>
									tb_by_loc_df</blockquote>
									<figure style="max-width:2388pxpx" class="w-richtext-align-fullwidth w-richtext-figure-type-image"><div><img src="images/tot_bal_by_loc/tot_df_arrange.png" alt=""></div></figure>
								<p><br/></p>
								<h2>Converting to Numpy array</h2>
								<blockquote>np_arr = tb_by_loc_df.to_numpy()<br/>
								regions = np_arr[:,0]<br/>
								amounts = np_arr[:,1]<br/>
								</blockquote>
								<p><br/></p>
								<h2>Plotting the Graph</h2>
								<blockquote># Create a figure and a set of subplots.<br/>
									# Width x height<br/>
									fig, ax = plt.subplots( figsize=(8, 4))<br/>
									<p><br/></p>
									
									# we want to print something like $0M, $10M on x-axis.<br/>
									# it has to be '1e-6' for formatting to be proper.<br/>
									#<br/>
									def millions(y, pos):<br/>
										#The two args are the value and tick position.<br/>
										return '${:1.0f}M'.format(y*1e-6)<br/>
									<p><br/></p>
									ax.xaxis.set_major_formatter(millions)<br/>
									# turn on this if u need more ticks at 5e6.<br/>
									# <br/>
									# ax.xaxis.set_major_locator(MultipleLocator(5e6))<br/>
									<p><br/></p>
									# we just want to highlight a particular bar<br/>
									#<br/>
									colors = ['cyan', 'cyan', 'cyan', 'blue','cyan', 'cyan', 'cyan', 'cyan', 'cyan', 'cyan', 'cyan', 'cyan', 'cyan', 'cyan', 'cyan']<br/>
									ax.barh(regions, amounts, color = colors)<br/>
									# Regions with highest amount will appear first.<br/>
									ax.invert_yaxis() <br/>
									#<br/>
									ax.set_xlabel('Amout')<br/>
									ax.set_ylabel('Region')<br/>
									ax.set_title('Total Balance by location')</blockquote>

								<h2>Graph Output</h2>
								<figure style="max-width:2388pxpx" class="w-richtext-align-fullwidth w-richtext-figure-type-image"><div><img src="images/tot_bal_by_loc/tot_bal_by_loc.png" alt=""></div></figure>
								<p><br/></p>
								<h2>comments</h2>
								<p>I manage to customize the horizontal axis in multiple of $10M. It has an uncluttered look. I did try to put major ticks every $5M but the look is messy. 
									I am not sure if there is a cleaner way to make 'Illinois' blue while others stay cyan.  
								</p>




							</section>

					</div>

				<!-- Footer -->
					<footer id="footer">
						<nav id="nav">
							<ul class="links">
								<li><a href="index.html">Portfolio Main Page</a></li>
	
							</ul>
						</nav>

						<section class="split contact">




						</section>
					</footer>

				<!-- Copyright -->
					<div id="copyright">
						<ul><li>&copy; fuhan</li></ul>
					</div>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>